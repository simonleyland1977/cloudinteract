{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.235.0"},"children":{"FiftySix-dev-IAM":{"id":"FiftySix-dev-IAM","path":"FiftySix-dev-IAM","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"ConnectServiceRole":{"id":"ConnectServiceRole","path":"FiftySix-dev-IAM/ConnectServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.0","metadata":[]},"children":{"ImportConnectServiceRole":{"id":"ImportConnectServiceRole","path":"FiftySix-dev-IAM/ConnectServiceRole/ImportConnectServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.0","metadata":[]}},"Resource":{"id":"Resource","path":"FiftySix-dev-IAM/ConnectServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"connect.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Service role for Amazon Connect to access AWS resources","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonConnect_FullAccess"]]}],"roleName":"fiftysix-connect-service-dev","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"FiftySix-dev-IAM/ConnectServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-IAM/ConnectServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:GetObjectVersion","s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":"arn:aws:s3:::fiftysix-*/*"},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:lambda:us-east-1:",{"Ref":"AWS::AccountId"},":function:fiftysix-*"]]}},{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:us-east-1:",{"Ref":"AWS::AccountId"},":table/fiftysix-*"]]}}],"Version":"2012-10-17"},"policyName":"ConnectServiceRoleDefaultPolicyA1087FE2","roles":[{"Ref":"ConnectServiceRole76172FB3"}]}}}}}}},"BedrockInvocationRole":{"id":"BedrockInvocationRole","path":"FiftySix-dev-IAM/BedrockInvocationRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.0","metadata":[]},"children":{"ImportBedrockInvocationRole":{"id":"ImportBedrockInvocationRole","path":"FiftySix-dev-IAM/BedrockInvocationRole/ImportBedrockInvocationRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.0","metadata":[]}},"Resource":{"id":"Resource","path":"FiftySix-dev-IAM/BedrockInvocationRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Role for Lambda to invoke Bedrock models","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"roleName":"fiftysix-bedrock-invoke-dev","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"FiftySix-dev-IAM/BedrockInvocationRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-IAM/BedrockInvocationRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":["arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-lite-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-pro-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-sonic-v1:0"]},{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:us-east-1:",{"Ref":"AWS::AccountId"},":table/fiftysix-conversation-*"]]}},{"Action":"s3:PutObject","Effect":"Allow","Resource":"arn:aws:s3:::fiftysix-bedrock-logs-*/*"},{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:logs:us-east-1:",{"Ref":"AWS::AccountId"},":log-group:/aws/lambda/fiftysix-*"]]}},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::ImportValue":"FiftySix-dev-DynamoDB:ExportsOutputFnGetAttConversationTable75C14D21ArnDAE9808D"}},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"FiftySix-dev-Storage:ExportsOutputFnGetAttBedrockLogsBucketB6DBE235Arn0E9A0653"},{"Fn::Join":["",[{"Fn::ImportValue":"FiftySix-dev-Storage:ExportsOutputFnGetAttBedrockLogsBucketB6DBE235Arn0E9A0653"},"/*"]]}]},{"Action":"appsync:GraphQL","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:appsync:us-east-1:",{"Ref":"AWS::AccountId"},":apis/*"]]}}],"Version":"2012-10-17"},"policyName":"BedrockInvocationRoleDefaultPolicy5B6E55DA","roles":[{"Ref":"BedrockInvocationRole31B5D2A7"}]}}}}}}},"ConnectServiceRoleArn":{"id":"ConnectServiceRoleArn","path":"FiftySix-dev-IAM/ConnectServiceRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"BedrockInvocationRoleArn":{"id":"BedrockInvocationRoleArn","path":"FiftySix-dev-IAM/BedrockInvocationRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-IAM/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-IAM/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"Exports":{"id":"Exports","path":"FiftySix-dev-IAM/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"BedrockInvocationRole31B5D2A7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"BedrockInvocationRole31B5D2A7\",\"Arn\"]}","path":"FiftySix-dev-IAM/Exports/Output{\"Fn::GetAtt\":[\"BedrockInvocationRole31B5D2A7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-IAM/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-IAM/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"FiftySix-dev-Storage":{"id":"FiftySix-dev-Storage","path":"FiftySix-dev-Storage","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"RecordingsBucket":{"id":"RecordingsBucket","path":"FiftySix-dev-Storage/RecordingsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Storage/RecordingsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["fiftysix-recordings-dev-",{"Ref":"AWS::AccountId"}]]},"lifecycleConfiguration":{"rules":[{"expirationInDays":2555,"id":"MoveToGlacier","status":"Enabled","transitions":[{"storageClass":"GLACIER","transitionInDays":90}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}],"versioningConfiguration":{"status":"Enabled"}}}}}},"TranscriptsBucket":{"id":"TranscriptsBucket","path":"FiftySix-dev-Storage/TranscriptsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Storage/TranscriptsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["fiftysix-transcripts-dev-",{"Ref":"AWS::AccountId"}]]},"lifecycleConfiguration":{"rules":[{"expirationInDays":60,"id":"MoveToIA","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":30}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}}}},"FlowLogsBucket":{"id":"FlowLogsBucket","path":"FiftySix-dev-Storage/FlowLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Storage/FlowLogsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["fiftysix-flow-logs-dev-",{"Ref":"AWS::AccountId"}]]},"lifecycleConfiguration":{"rules":[{"expirationInDays":60,"id":"DeleteOldLogs","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}}}},"BedrockLogsBucket":{"id":"BedrockLogsBucket","path":"FiftySix-dev-Storage/BedrockLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Storage/BedrockLogsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["fiftysix-bedrock-logs-dev-",{"Ref":"AWS::AccountId"}]]},"lifecycleConfiguration":{"rules":[{"expirationInDays":60,"id":"MoveToIA","status":"Enabled","transitions":[{"storageClass":"STANDARD_IA","transitionInDays":30}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}}}},"RecordingsBucketName":{"id":"RecordingsBucketName","path":"FiftySix-dev-Storage/RecordingsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"TranscriptsBucketName":{"id":"TranscriptsBucketName","path":"FiftySix-dev-Storage/TranscriptsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"FlowLogsBucketName":{"id":"FlowLogsBucketName","path":"FiftySix-dev-Storage/FlowLogsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"BedrockLogsBucketName":{"id":"BedrockLogsBucketName","path":"FiftySix-dev-Storage/BedrockLogsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-Storage/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-Storage/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"Exports":{"id":"Exports","path":"FiftySix-dev-Storage/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"BedrockLogsBucketB6DBE235\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"BedrockLogsBucketB6DBE235\",\"Arn\"]}","path":"FiftySix-dev-Storage/Exports/Output{\"Fn::GetAtt\":[\"BedrockLogsBucketB6DBE235\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"Output{\"Ref\":\"BedrockLogsBucketB6DBE235\"}":{"id":"Output{\"Ref\":\"BedrockLogsBucketB6DBE235\"}","path":"FiftySix-dev-Storage/Exports/Output{\"Ref\":\"BedrockLogsBucketB6DBE235\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-Storage/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-Storage/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"FiftySix-dev-DynamoDB":{"id":"FiftySix-dev-DynamoDB","path":"FiftySix-dev-DynamoDB","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"ConversationTable":{"id":"ConversationTable","path":"FiftySix-dev-DynamoDB/ConversationTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-DynamoDB/ConversationTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"contactId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"contactId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tableName":"fiftysix-conversation-context-dev","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"FiftySix-dev-DynamoDB/ConversationTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.0","metadata":[]}}}},"CallbackTable":{"id":"CallbackTable","path":"FiftySix-dev-DynamoDB/CallbackTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-DynamoDB/CallbackTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"customerId","attributeType":"S"},{"attributeName":"requestedTime","attributeType":"N"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"status-index","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"requestedTime","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"customerId","keyType":"HASH"},{"attributeName":"requestedTime","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tableName":"fiftysix-callback-queue-dev","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}]}}},"ScalingRole":{"id":"ScalingRole","path":"FiftySix-dev-DynamoDB/CallbackTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.0","metadata":[]}}}},"ConversationTableName":{"id":"ConversationTableName","path":"FiftySix-dev-DynamoDB/ConversationTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CallbackTableName":{"id":"CallbackTableName","path":"FiftySix-dev-DynamoDB/CallbackTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-DynamoDB/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-DynamoDB/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"Exports":{"id":"Exports","path":"FiftySix-dev-DynamoDB/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"ConversationTable75C14D21\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ConversationTable75C14D21\",\"Arn\"]}","path":"FiftySix-dev-DynamoDB/Exports/Output{\"Fn::GetAtt\":[\"ConversationTable75C14D21\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"Output{\"Ref\":\"ConversationTable75C14D21\"}":{"id":"Output{\"Ref\":\"ConversationTable75C14D21\"}","path":"FiftySix-dev-DynamoDB/Exports/Output{\"Ref\":\"ConversationTable75C14D21\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-DynamoDB/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-DynamoDB/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"FiftySix-dev-Bedrock":{"id":"FiftySix-dev-Bedrock","path":"FiftySix-dev-Bedrock","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"BedrockIntegration":{"id":"BedrockIntegration","path":"FiftySix-dev-Bedrock/BedrockIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.235.0","metadata":[]},"children":{"Code":{"id":"Code","path":"FiftySix-dev-Bedrock/BedrockIntegration/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.0"},"children":{"Stage":{"id":"Stage","path":"FiftySix-dev-Bedrock/BedrockIntegration/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.0"}},"AssetBucket":{"id":"AssetBucket","path":"FiftySix-dev-Bedrock/BedrockIntegration/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"FiftySix-dev-Bedrock/BedrockIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"4a018716c7d36d4c89f52eb2359f92d3c93b58bbad2f2f90189f205fa34bb04e.zip"},"environment":{"variables":{"CONVERSATION_TABLE":{"Fn::ImportValue":"FiftySix-dev-DynamoDB:ExportsOutputRefConversationTable75C14D21A757611F"},"LOGGING_BUCKET":{"Fn::ImportValue":"FiftySix-dev-Storage:ExportsOutputRefBedrockLogsBucketB6DBE23573C20B54"},"ENVIRONMENT":"dev","BEDROCK_REGION":"us-east-1","NOVA_SONIC_MODEL_ID":"amazon.nova-sonic-v1:0","NOVA_PRO_MODEL_ID":"amazon.nova-pro-v1:0","NOVA_LITE_MODEL_ID":"amazon.nova-lite-v1:0","APPSYNC_API_URL":"https://p5hcgktmwzbvdd4ucyhebj5w4q.appsync-api.us-east-1.amazonaws.com/graphql"}},"functionName":"fiftysix-bedrock-integration-dev","handler":"index.handler","memorySize":512,"role":{"Fn::ImportValue":"FiftySix-dev-IAM:ExportsOutputFnGetAttBedrockInvocationRole31B5D2A7Arn52FC13CA"},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}],"timeout":30}}},"Invokewa7FHgTD6EtMzuUHljXuQ7WVwEF1+aticc0+1ZM5bgk=":{"id":"Invokewa7FHgTD6EtMzuUHljXuQ7WVwEF1+aticc0+1ZM5bgk=","path":"FiftySix-dev-Bedrock/BedrockIntegration/Invokewa7FHgTD6EtMzuUHljXuQ7WVwEF1+aticc0+1ZM5bgk=","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BedrockIntegration8270BD19","Arn"]},"principal":"connect.amazonaws.com"}}}}},"BedrockLambdaArn":{"id":"BedrockLambdaArn","path":"FiftySix-dev-Bedrock/BedrockLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"BedrockLambdaName":{"id":"BedrockLambdaName","path":"FiftySix-dev-Bedrock/BedrockLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-Bedrock/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-Bedrock/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"Exports":{"id":"Exports","path":"FiftySix-dev-Bedrock/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"BedrockIntegration8270BD19\"}":{"id":"Output{\"Ref\":\"BedrockIntegration8270BD19\"}","path":"FiftySix-dev-Bedrock/Exports/Output{\"Ref\":\"BedrockIntegration8270BD19\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-Bedrock/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-Bedrock/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"FiftySix-dev-Connect":{"id":"FiftySix-dev-Connect","path":"FiftySix-dev-Connect","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"ConnectInstance":{"id":"ConnectInstance","path":"FiftySix-dev-Connect/ConnectInstance","constructInfo":{"fqn":"aws-cdk-lib.aws_connect.CfnInstance","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Connect::Instance","aws:cdk:cloudformation:props":{"attributes":{"inboundCalls":true,"outboundCalls":true,"contactflowLogs":true,"contactLens":true,"autoResolveBestVoices":true,"useCustomTtsVoices":false,"earlyMedia":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}],"identityManagementType":"CONNECT_MANAGED","instanceAlias":"fiftysix-demo-dev"}}},"ConnectInstanceId":{"id":"ConnectInstanceId","path":"FiftySix-dev-Connect/ConnectInstanceId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"ConnectInstanceArn":{"id":"ConnectInstanceArn","path":"FiftySix-dev-Connect/ConnectInstanceArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"ConnectAccessUrl":{"id":"ConnectAccessUrl","path":"FiftySix-dev-Connect/ConnectAccessUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-Connect/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-Connect/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-Connect/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-Connect/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"FiftySix-dev-Monitoring":{"id":"FiftySix-dev-Monitoring","path":"FiftySix-dev-Monitoring","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.0"},"children":{"Dashboard":{"id":"Dashboard","path":"FiftySix-dev-Monitoring/Dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Monitoring/Dashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Bedrock Lambda Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"FiftySix-dev-Bedrock:ExportsOutputRefBedrockIntegration8270BD19DB917D86"},"\",{\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Bedrock Lambda Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"FiftySix-dev-Bedrock:ExportsOutputRefBedrockIntegration8270BD19DB917D86"},"\",{\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Bedrock Lambda Duration (ms)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"FiftySix-dev-Bedrock:ExportsOutputRefBedrockIntegration8270BD19DB917D86"},"\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":3,\"x\":12,\"y\":6,\"properties\":{\"view\":\"singleValue\",\"title\":\"Total Invocations (24h)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"FiftySix-dev-Bedrock:ExportsOutputRefBedrockIntegration8270BD19DB917D86"},"\",{\"stat\":\"Sum\"}]],\"setPeriodToTimeRange\":true}}]}"]]},"dashboardName":"FiftySix-dev-Dashboard"}}}}},"LambdaErrorAlarm":{"id":"LambdaErrorAlarm","path":"FiftySix-dev-Monitoring/LambdaErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.235.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"FiftySix-dev-Monitoring/LambdaErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.235.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when Bedrock Lambda has more than 5 errors","alarmName":"fiftysix-dev-lambda-errors","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Owner","value":"fiftysix.ai"},{"key":"Project","value":"FiftySix-Connect-Bedrock"}],"comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"FiftySix-dev-Bedrock:ExportsOutputRefBedrockIntegration8270BD19DB917D86"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"DashboardUrl":{"id":"DashboardUrl","path":"FiftySix-dev-Monitoring/DashboardUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FiftySix-dev-Monitoring/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"FiftySix-dev-Monitoring/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FiftySix-dev-Monitoring/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FiftySix-dev-Monitoring/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}